/* =========================================================
   JEFATURA ‚Äî Estilos (MODO OSCURO) ‚Äî Compacto + icon-only
   ========================================================= */

:root{
  --ff: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

  --text: #eef2f6; --text-dim: #cfd6de;
  --bg-image: url("gpt7.jpg");
  --overlay: linear-gradient(180deg, rgba(0,0,0,.70), rgba(0,0,0,.70));

  --panel: rgba(36,37,39,.86);
  --line: rgba(255,255,255,.12);

  --hdr-bg: rgba(18,19,21,.82);
  --hdr-bd: rgba(255,255,255,.08);
  --hover-tint: rgba(255,255,255,.10);

  --shadow: 0 10px 28px rgba(0,0,0,.26);
  --radius: 14px;

  --table-head:#000000; --table-fg:#fff; --bd:#d0d0d0; --zebra:#f7f7f7;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; font-family:var(--ff); color:var(--text);
  background: var(--overlay), var(--bg-image) center/cover no-repeat fixed;
  display:grid; grid-template-rows:auto 1fr;
}

/* ===== Header ===== */
header{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:14px 28px;
  background:var(--hdr-bg); border-bottom:1px solid var(--hdr-bd);
  -webkit-backdrop-filter: blur(8px); backdrop-filter: blur(8px);
  box-shadow:0 6px 20px rgba(0,0,0,.20); z-index:10; position:relative;
}
.logo_direca img{ width:70px; display:block; }
.logo img{ width: clamp(160px, 22vw, 300px); display:block; }
nav{ flex:1 1 auto; display:flex; justify-content:center; }
.nav-links{ display:flex; gap:22px; list-style:none; margin:0; padding:0; }
.nav-volver a{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px;
  font-weight:800; color:#fff; text-decoration:none;
  background: rgba(255,255,255,.14); border:1px solid var(--hdr-bd);
  transition: background-color .18s ease, transform .18s ease;
}
.nav-volver a:hover{ background: var(--hover-tint); transform: translateY(-1px); }

/* ===== Contenido ===== */
.container{ padding:5px }
.panel{
  width:100%; margin:0 auto; background:var(--panel);
  border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow); padding:5px;
}
.panel-head{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:6px 2px 12px; }
.title{ margin:0; font-size: clamp(20px,2.2vw,28px); color:#fff; }

/* Botones */
.btn{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; font-weight:800; cursor:pointer; }
.btn--primary{ background:#0f0f0f; color:#fff; border:1px solid #000; }
.btn--primary:hover{ background:#151515; }

/* ===== Tabla ===== */

/* üëâ Scroll horizontal (si hace falta) */
.table-wrap{
  width:100%;
  overflow-x:auto;            /* <- clave para m√≥vil */
  overflow-y:visible;
  border-radius:12px;
  box-shadow:0 2px 10px rgba(0,0,0,.18);
  -webkit-overflow-scrolling: touch;   /* inercia iOS */
}

.tabla-visitas{
  width:100%;
  border-collapse:collapse;
  table-layout:fixed;
  background:#fff; color:#111;
  font-size:9.4px; line-height:1.16;
}
.tabla-visitas thead th{
  position:sticky; top:0; z-index:2;            /* header pegajoso */
  background:var(--table-head); color:var(--table-fg);
  text-align:center; border:1px solid #2a2a2a; padding:6px 6px; font-weight:800;
}
.tabla-visitas th, .tabla-visitas td{
  border:1px solid var(--bd); padding:4px 5px; vertical-align:top;
  background:#fff; color:#111; word-wrap:break-word; overflow-wrap:anywhere;
}
.tabla-visitas tbody tr:nth-child(even){ background:var(--zebra); }

/* ===== Inputs/selects ===== */
.cell{ padding:0; }
.cell input[type="text"],
.cell input[type="date"],
.cell textarea,
.cell select{
  width:100%; background:transparent !important; border:0 !important; color:#111 !important;
  font:inherit; padding:0 !important; margin:0; outline:none; min-height:18px; appearance:none;
}
.cell textarea{ resize:vertical; min-height:30px; }
.cell :is(input,select,textarea):focus{ outline:2px solid rgba(37,99,235,.22); outline-offset:1px; }

/* Selects: flecha sutil */
.cell select{
  padding-right:16px !important;
  border-radius: 8px;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="%23666"><path d="M7 10l5 5 5-5z"/></svg>');
  background-repeat:no-repeat; background-position:right 2px center; background-size:10px 10px;
}
.cell select option{
  background:#0f0f0f; color:#f1f5f9; padding:6px 8px;
}
.cell select optgroup{
  background:#151515; color:#cfd6de; font-weight:700; padding:4px 8px;
}
.cell select option:checked{ background:#233a72; color:#fff; }
.cell select::-webkit-scrollbar{ width:10px; }
.cell select::-webkit-scrollbar-track{ background:#0c0c0c; border-radius:8px; }
.cell select::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.25); border-radius:8px; border:2px solid #0c0c0c; }

/* Columnas angostas (prioridad, validaci√≥n, estado) */
.tabla-visitas thead th:nth-child(9),
.tabla-visitas tbody td:nth-child(9),
.tabla-visitas thead th:nth-child(11),
.tabla-visitas tbody td:nth-child(11),
.tabla-visitas thead th:nth-child(12),
.tabla-visitas tbody td:nth-child(12){
  width:78px; max-width:88px; white-space:nowrap; text-align:center;
}
/* Acciones (13) ultra angosta */
.tabla-visitas thead th:nth-child(13),
.tabla-visitas tbody td:nth-child(13){
  width:40px; max-width:40px; white-space:nowrap; text-align:center;
}

/* Bot√≥n eliminar ‚Äî solo icono */
.col-actions{ background:#fff; }
.btn--danger{
  width: 28px; height: 28px; padding: 0;
  border-radius: 8px;
  background: #1a1a1a; border: 1px solid #0e0e0e;
  cursor: pointer; transition: background-color .2s ease, transform .06s ease;
  font-size: 0;
}
.btn--danger::before{
  content: "üóëÔ∏è";
  font-size: 12px; line-height: 1;
  display:inline-block; transform: translateY(1px);
}
.btn--danger:hover{ background:#121212; }
.btn--danger:active{ transform: translateY(1px); }

/* ===== Responsive ===== */
@media (max-width: 880px){
  .title{ font-size:20px; }
  .tabla-visitas{ font-size:9px; }
  .tabla-visitas th, .tabla-visitas td{ padding:3.5px 4px; }
}

/* ---------------------------------------------------------
   M√ìVIL: ancho m√≠nimo fijo + scroll horizontal suave
   --------------------------------------------------------- */
@media (max-width: 720px){
  /* El contenedor hace scroll horizontal */
  .table-wrap{
    overflow-x:auto;
    overflow-y:visible;
    -webkit-overflow-scrolling: touch;
  }
  /* La tabla no se comprime: obliga a deslizar
     (ajusta si necesitas m√°s/menos ancho total) */
  .tabla-visitas{
    min-width: 1080px;   /* ‚Üê clave para que aparezca el scroll-x */
    font-size: 8.8px;
  }
  .tabla-visitas th, .tabla-visitas td{ padding:3px 3.5px; }

  /* Pista visual opcional en los extremos (sombras de scroll) */
  .table-wrap{
    background:
      linear-gradient(to right, rgba(0,0,0,.22), rgba(0,0,0,0)) 0 0/12px 100% no-repeat,
      linear-gradient(to left,  rgba(0,0,0,.22), rgba(0,0,0,0)) 100% 0/12px 100% no-repeat;
  }
}

/* M√≥viles muy peque√±os */
@media (max-width: 420px){
  .tabla-visitas{ min-width: 1020px; font-size: 8.6px; }
  .tabla-visitas th, .tabla-visitas td{ padding:2.8px 3px; }
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .btn, .nav-volver a{ transition: none; }
}
